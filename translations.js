// Fundaci贸n Rimas - Bilingual Translations (Spanish & English)

const translations = {
    es: {
        // Navigation
        nav: {
            inicio: "Inicio",
            quienesSomos: "Qui茅nes Somos",
            laAcademia: "La Academia",
            destrezas: "Destrezas",
            alianzas: "Alianzas",
            apoyar: "Apoyar",
            abrirMenu: "Abrir men煤",
            cerrarMenu: "Cerrar men煤"
        },
        // Hero Section
        hero: {
            title: "No se puede aspirar a<br>lo que no conoces",
            subtitle: "Transformando vidas a trav茅s del acompa帽amiento continuo",
            stat1: "J贸venes Impactados",
            stat2: "Campus Activos",
            stat3: "% Tasa de Retenci贸n",
            stat4: "+ Horas de Programaci贸n"
        },
        // Diferenciador Section
        diferenciador: {
            mainTitle: "M谩s que eventos, creamos sistemas de cambio",
            pilar1Title: "Continuidad",
            pilar1Text: "Programas durante todo el a帽o, no eventos aislados",
            pilar2Title: "Acompa帽amiento",
            pilar2Text: "Seguimiento semanal personalizado para cada joven",
            pilar3Title: "Proyectos Reales",
            pilar3Text: "Desarrollo de iniciativas con impacto comunitario tangible",
            pilar4Title: "Medici贸n",
            pilar4Text: "Seguimiento de resultados e impacto verificable",
            bottomText: "Trabajamos directamente con j贸venes en el sistema de justicia juvenil en Puerto Rico,",
            bottomTextBold: "creando oportunidades reales de transformaci贸n y desarrollo."
        },
        // Historia Section
        historia: {
            title: "Historia Destacada del Trimestre",
            name: "Juan Fox",
            quote: '"De Caras con Causa a la UPR estudiando m煤sica popular"',
            description: "Juan es el primer becado de nuestra residencia, representando un hito en nuestro compromiso con el desarrollo integral de los j贸venes. Su trayectoria desde Caras con Causa hasta la Universidad de Puerto Rico demuestra el poder del acompa帽amiento continuo y el apoyo estructurado.",
            timeline1Year: "2023 - Caras con Causa",
            timeline1Text: "Inicia su camino con Fundaci贸n Rimas",
            timeline2Year: "2024 - Beca Residencial",
            timeline2Text: "Primer becado del programa",
            timeline3Year: "2025 - UPR",
            timeline3Text: "Estudiando M煤sica Popular",
            ctaButton: "Conoce m谩s historias"
        },
        // Academia Section
        academia: {
            title: "La Academia en Acci贸n",
            subtitle: "Proyectos reales, habilidades transferibles, impacto medible",
            villalba: "Villalba",
            villaalbaMission: "Produciendo un lbum",
            villalbaParticipants: "79 participantes",
            villalbaDesc: "Creando m煤sica desde el sistema correccional, transformando vidas a trav茅s del arte y la expresi贸n.",
            villalbaHighlight: "Destacado: Bootcamp con Xander Zayas sobre disciplina y superaci贸n",
            skillsLabel: "Destrezas desarrolladas:",
            composicion: "Composici贸n",
            trabajoEquipo: "Trabajo en equipo",
            expresionCreativa: "Expresi贸n creativa",

            carasConCausa: "Caras con Causa",
            carasMission: "Organizando su Evento",
            carasParticipants: "15 j贸venes",
            carasDesc: "Planificando su Welcome Back Party con autonom铆a total en la gesti贸n del proyecto.",
            carasHighlight: "Comit茅s: Fundraising, log铆stica, promoci贸n",
            gestionProyectos: "Gesti贸n de proyectos",
            presupuesto: "Presupuesto",
            liderazgo: "Liderazgo",

            llorens: "Llorens",
            llorensMission: "Documentando su Comunidad",
            llorensParticipants: "15 j贸venes",
            llorensDesc: "Creando un cortometraje sobre crecer en Llorens Torres, utilizando tecnolog铆a e IA en entretenimiento.",
            llorensHighlight: "Proyecto: Cortometraje comunitario con tecnolog铆a de punta",
            narrativaVisual: "Narrativa visual",
            tecnologia: "Tecnolog铆a",
            identidadCultural: "Identidad cultural",

            inesMaria: "In茅s Mar铆a Mendoza",
            inesMission: "Pitch Final",
            inesParticipants: "21 j贸venes",
            inesDesc: "Presentaci贸n ante panel evaluador sobre planificaci贸n de eventos de entretenimiento.",
            inesHighlight: "Colaboraci贸n: ConPRmetidos y programa Futuro ConPR",
            presentacionEjecutiva: "Presentaci贸n ejecutiva",
            planificacionEstrategica: "Planificaci贸n estrat茅gica"
        },
        // Destrezas Section
        destrezas: {
            title: "Destrezas Transferibles",
            subtitle: "Lo que aprendes aqu铆, te sirve en cualquier lugar",
            networking: "Networking",
            networkingDesc: "Aplicable en cualquier industria",
            presupuesto: "Presupuesto",
            presupuestoDesc: "Finanzas personales y profesionales",
            branding: "Branding Personal",
            brandingDesc: "Desarrollo de carrera",
            eventos: "Organizaci贸n de Eventos",
            eventosDesc: "Gesti贸n de proyectos",
            quote: '"Un buen contable en la m煤sica es un buen contable en cualquier industria"'
        },
        // Subvenciones Section
        subvenciones: {
            title: "Programa de Subvenciones",
            amount: "$25,000+",
            amountDesc: "Otorgados este trimestre",
            atletas: "Atletas",
            atletasDesc: "Apoyo a deportistas destacados",
            musicos: "M煤sicos",
            musicosDesc: "Becas para desarrollo musical",
            artistas: "Artistas",
            artistasDesc: "Inversi贸n en talento creativo",
            processTitle: "Proceso Transparente y Basado en M茅rito",
            processDesc: "Todas nuestras subvenciones siguen criterios claros de evaluaci贸n",
            nextCall: "Pr贸xima convocatoria: Enero 2026"
        },
        // Alianzas Section
        alianzas: {
            title: "Alianzas Estrat茅gicas",
            subtitle: "Juntos logramos m谩s",
            wendys: "Wendy's",
            wendysDesc: 'Campa帽a "El Talento de Aqu铆 es Otra Cosa" - Recaudando fondos para becas universitarias 2026 en m煤sica, arte y deportes.',
            eladio: "Eladio Carri贸n",
            eladioDesc: "Programa Therapy Dogs y apoyo continuo a nuestros j贸venes participantes.",
            boysGirls: "Boys & Girls Club",
            boysGirlsDesc: "Red de 11 centros colaborando para ampliar nuestro alcance e impacto en comunidades.",
            dcr: "DCR",
            dcrDesc: "Departamento de Correcci贸n y Rehabilitaci贸n - Transformando el sistema desde adentro.",
            impactTitle: "Nuestro Impacto es Posible Gracias a:",
            partner1: "Rimas Entertainment",
            partner2: "Caras con Causa",
            partner3: "Xander Zayas",
            partner4: "ConPRmetidos",
            partner5: "Fundaci贸n Felisa Rinc贸n de Gautier",
            partner6: "Juvenile Justice",
            partner7: "Universidad de Puerto Rico",
            partner8: "Junte de Plenerxs"
        },
        // Movimiento Section
        movimiento: {
            title: "nete al Movimiento",
            subtitle: "Hay m煤ltiples maneras de ser parte del cambio",
            nacionales: "Fundaciones Nacionales",
            nacionalesDesc: "Invierte en el 煤nico modelo probado de justicia juvenil en PR",
            empresas: "Empresas Locales",
            empresasDesc: "Adopta un campus, transforma una comunidad",
            profesionales: "Profesionales",
            profesionalesDesc: "Comparte tu expertise, inspira futuros",
            alumni: "Alumni",
            alumniDesc: "Regresa como mentor, cierra el c铆rculo",
            comunidad: "Comunidad",
            comunidadDesc: "Prop贸n el pr贸ximo campus - 驴d贸nde te necesitamos?"
        },
        // Hitos Section
        hitos: {
            title: "Pr贸ximos Hitos",
            enero: "Enero 2026",
            eneroDesc: "Apertura Campus Caguas",
            accountability: "Accountability & Transparencia",
            accountabilityDesc: "Publicaci贸n trimestral de m茅tricas: asistencia, retenci贸n, progreso acad茅mico, desarrollo de destrezas",
            academia: "Academia M贸vil",
            academiaDesc: "Programas pop-up llevando el vag贸n estudio a comunidades nuevas"
        },
        // Footer Section
        footer: {
            tagline: "Transformando vidas a trav茅s del acompa帽amiento continuo desde 2018.",
            nonprofit: "Organizaci贸n 501(c)(3) sin fines de lucro",
            accionesTitle: "Llamadas a la Acci贸n",
            apoyaMision: "Apoya nuestra misi贸n",
            solicitaBeca: "Solicita una subvenci贸n",
            conoceProgramas: "Conoce nuestros programas",
            contactoTitle: "Contacto",
            contactoEmail: "info@fundacionrimas.org",
            newsletterTitle: "Newsletter",
            newsletterDesc: "Mantente al tanto de nuestro trabajo",
            emailPlaceholder: "Tu email",
            subscribe: "Suscribirse",
            copyright: "漏 2025 Fundaci贸n Rimas. Todos los derechos reservados. | 501(c)(3) Nonprofit Organization | Established 2018"
        },
        // Buttons & UI
        ui: {
            scrollTop: "Volver arriba",
            thankYou: "隆Gracias por suscribirte!",
            invalidEmail: "Por favor, ingresa un email v谩lido",
            linkCopied: "Link copiado al portapapeles",
            easterEgg: " 隆C贸digo secreto activado! Gracias por apoyar a los j贸venes de PR"
        }
    },
    en: {
        // Navigation
        nav: {
            inicio: "Home",
            quienesSomos: "About Us",
            laAcademia: "The Academy",
            destrezas: "Skills",
            alianzas: "Partnerships",
            apoyar: "Support",
            abrirMenu: "Open menu",
            cerrarMenu: "Close menu"
        },
        // Hero Section
        hero: {
            title: "You can't aspire to<br>what you don't know",
            subtitle: "Transforming lives through continuous mentorship",
            stat1: "Youth Impacted",
            stat2: "Active Campuses",
            stat3: "% Retention Rate",
            stat4: "+ Programming Hours"
        },
        // Diferenciador Section
        diferenciador: {
            mainTitle: "More than events, we create systems of change",
            pilar1Title: "Continuity",
            pilar1Text: "Year-round programs, not isolated events",
            pilar2Title: "Mentorship",
            pilar2Text: "Personalized weekly follow-up for each youth",
            pilar3Title: "Real Projects",
            pilar3Text: "Development of initiatives with tangible community impact",
            pilar4Title: "Measurement",
            pilar4Text: "Tracking results and verifiable impact",
            bottomText: "We work directly with youth in the juvenile justice system in Puerto Rico,",
            bottomTextBold: "creating real opportunities for transformation and development."
        },
        // Historia Section
        historia: {
            title: "Featured Story of the Quarter",
            name: "Juan Fox",
            quote: '"From Caras con Causa to UPR studying popular music"',
            description: "Juan is the first recipient of our residential scholarship, marking a milestone in our commitment to holistic youth development. His journey from Caras con Causa to the University of Puerto Rico demonstrates the power of continuous mentorship and structured support.",
            timeline1Year: "2023 - Caras con Causa",
            timeline1Text: "Begins his journey with Fundaci贸n Rimas",
            timeline2Year: "2024 - Residential Scholarship",
            timeline2Text: "First scholarship recipient in the program",
            timeline3Year: "2025 - UPR",
            timeline3Text: "Studying Popular Music",
            ctaButton: "Learn more stories"
        },
        // Academia Section
        academia: {
            title: "The Academy in Action",
            subtitle: "Real projects, transferable skills, measurable impact",
            villalba: "Villalba",
            villaalbaMission: "Producing an Album",
            villalbaParticipants: "79 participants",
            villalbaDesc: "Creating music from within the correctional system, transforming lives through art and expression.",
            villalbaHighlight: "Featured: Bootcamp with Xander Zayas on discipline and personal growth",
            skillsLabel: "Skills developed:",
            composicion: "Composition",
            trabajoEquipo: "Teamwork",
            expresionCreativa: "Creative expression",

            carasConCausa: "Caras con Causa",
            carasMission: "Organizing Their Event",
            carasParticipants: "15 youth",
            carasDesc: "Planning their Welcome Back Party with full autonomy in project management.",
            carasHighlight: "Committees: Fundraising, logistics, promotion",
            gestionProyectos: "Project management",
            presupuesto: "Budgeting",
            liderazgo: "Leadership",

            llorens: "Llorens",
            llorensMission: "Documenting Their Community",
            llorensParticipants: "15 youth",
            llorensDesc: "Creating a short film about growing up in Llorens Torres, using cutting-edge technology and AI in entertainment.",
            llorensHighlight: "Project: Community short film with state-of-the-art technology",
            narrativaVisual: "Visual storytelling",
            tecnologia: "Technology",
            identidadCultural: "Cultural identity",

            inesMaria: "In茅s Mar铆a Mendoza",
            inesMission: "Final Pitch",
            inesParticipants: "21 youth",
            inesDesc: "Presentation to an evaluation panel on planning entertainment events.",
            inesHighlight: "Collaboration: ConPRmetidos and Futuro ConPR program",
            presentacionEjecutiva: "Executive presentation",
            planificacionEstrategica: "Strategic planning"
        },
        // Destrezas Section
        destrezas: {
            title: "Transferable Skills",
            subtitle: "What you learn here serves you everywhere",
            networking: "Networking",
            networkingDesc: "Applicable in any industry",
            presupuesto: "Budgeting",
            presupuestoDesc: "Personal and professional finances",
            branding: "Personal Branding",
            brandingDesc: "Career development",
            eventos: "Event Organization",
            eventosDesc: "Project management",
            quote: '"A good accountant in music is a good accountant in any industry"'
        },
        // Subvenciones Section
        subvenciones: {
            title: "Grants Program",
            amount: "$25,000+",
            amountDesc: "Granted this quarter",
            atletas: "Athletes",
            atletasDesc: "Support for outstanding athletes",
            musicos: "Musicians",
            musicosDesc: "Scholarships for musical development",
            artistas: "Artists",
            artistasDesc: "Investment in creative talent",
            processTitle: "Transparent and Merit-Based Process",
            processDesc: "All our grants follow clear evaluation criteria",
            nextCall: "Next call for applications: January 2026"
        },
        // Alianzas Section
        alianzas: {
            title: "Strategic Partnerships",
            subtitle: "Together we achieve more",
            wendys: "Wendy's",
            wendysDesc: '"Talent from Here is Another Thing" campaign - Raising funds for 2026 university scholarships in music, art, and sports.',
            eladio: "Eladio Carri贸n",
            eladioDesc: "Therapy Dogs program and continuous support for our young participants.",
            boysGirls: "Boys & Girls Club",
            boysGirlsDesc: "Network of 11 centers collaborating to expand our reach and impact in communities.",
            dcr: "DCR",
            dcrDesc: "Department of Correction and Rehabilitation - Transforming the system from within.",
            impactTitle: "Our Impact is Possible Thanks to:",
            partner1: "Rimas Entertainment",
            partner2: "Caras con Causa",
            partner3: "Xander Zayas",
            partner4: "ConPRmetidos",
            partner5: "Fundaci贸n Felisa Rinc贸n de Gautier",
            partner6: "Juvenile Justice",
            partner7: "University of Puerto Rico",
            partner8: "Junte de Plenerxs"
        },
        // Movimiento Section
        movimiento: {
            title: "Join the Movement",
            subtitle: "There are multiple ways to be part of the change",
            nacionales: "National Foundations",
            nacionalesDesc: "Invest in Puerto Rico's only proven juvenile justice model",
            empresas: "Local Businesses",
            empresasDesc: "Adopt a campus, transform a community",
            profesionales: "Professionals",
            profesionalesDesc: "Share your expertise, inspire futures",
            alumni: "Alumni",
            alumniDesc: "Return as a mentor, close the circle",
            comunidad: "Community",
            comunidadDesc: "Propose the next campus - where do we need you?"
        },
        // Hitos Section
        hitos: {
            title: "Next Milestones",
            enero: "January 2026",
            eneroDesc: "Caguas Campus Opening",
            accountability: "Accountability & Transparency",
            accountabilityDesc: "Quarterly publication of metrics: attendance, retention, academic progress, skills development",
            academia: "Mobile Academy",
            academiaDesc: "Pop-up programs bringing the study wagon to new communities"
        },
        // Footer Section
        footer: {
            tagline: "Transforming lives through continuous mentorship since 2018.",
            nonprofit: "501(c)(3) nonprofit organization",
            accionesTitle: "Calls to Action",
            apoyaMision: "Support our mission",
            solicitaBeca: "Apply for a grant",
            conoceProgramas: "Learn about our programs",
            contactoTitle: "Contact",
            contactoEmail: "info@fundacionrimas.org",
            newsletterTitle: "Newsletter",
            newsletterDesc: "Stay informed about our work",
            emailPlaceholder: "Your email",
            subscribe: "Subscribe",
            copyright: "漏 2025 Fundaci贸n Rimas. All rights reserved. | 501(c)(3) Nonprofit Organization | Established 2018"
        },
        // Buttons & UI
        ui: {
            scrollTop: "Back to top",
            thankYou: "Thanks for subscribing!",
            invalidEmail: "Please enter a valid email",
            linkCopied: "Link copied to clipboard",
            easterEgg: " Secret code activated! Thank you for supporting youth in PR"
        }
    }
};

// Language Switcher Object
const LanguageSwitcher = {
    currentLanguage: localStorage.getItem('language') || 'es',

    setLanguage(lang) {
        if (translations[lang]) {
            this.currentLanguage = lang;
            try {
                localStorage.setItem('language', lang);
            } catch (e) {
                console.warn('localStorage not available:', e);
            }
            this.updatePageContent();
            this.updatePageMeta();
            document.documentElement.lang = lang;
            console.log('Language changed to:', lang);
        }
    },

    getLanguage() {
        return this.currentLanguage;
    },

    translate(key) {
        const keys = key.split('.');
        let value = translations[this.currentLanguage];

        for (let k of keys) {
            if (value && typeof value === 'object') {
                value = value[k];
            } else {
                return key; // Return key if translation not found
            }
        }

        return value || key;
    },

    updatePageContent() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.translate(key);

            if (element.tagName === 'INPUT') {
                element.placeholder = translation;
            } else if (element.tagName === 'BUTTON' || element.tagName === 'A') {
                element.textContent = translation;
            } else {
                element.innerHTML = translation;
            }
        });

        // Update meta tags
        const titleElement = document.querySelector('[data-i18n-title]');
        const descElement = document.querySelector('[data-i18n-desc]');

        if (titleElement) {
            const key = titleElement.getAttribute('data-i18n-title');
            document.title = this.translate(key);
        }
    },

    updatePageMeta() {
        const lang = this.currentLanguage;

        if (lang === 'en') {
            document.querySelector('meta[name="description"]').content =
                'Unique organization working with youth in juvenile justice in PR. 123 youth impacted, 6 active campuses. More than events, we create systems of change.';
            document.querySelector('meta[property="og:title"]').content =
                'Fundaci贸n Rimas - Transforming Youth PR';
            document.querySelector('meta[property="og:description"]').content =
                'Unique organization working with youth in juvenile justice in PR. More than events, we create systems of change.';
            document.title = 'Fundaci贸n Rimas - Transforming Youth PR | Newsletter October 2025';
        } else {
            document.querySelector('meta[name="description"]').content =
                'nicos trabajando con j贸venes en justicia juvenil en PR. 123 j贸venes impactados, 6 campus activos. M谩s que eventos, creamos sistemas de cambio.';
            document.querySelector('meta[property="og:title"]').content =
                'Fundaci贸n Rimas - Transformando Juventud PR';
            document.querySelector('meta[property="og:description"]').content =
                'nicos trabajando con j贸venes en justicia juvenil en PR. M谩s que eventos, creamos sistemas de cambio.';
            document.title = 'Fundaci贸n Rimas - Transformando Juventud PR | Bolet铆n Octubre 2025';
        }
    },

    init() {
        document.documentElement.lang = this.currentLanguage;
        this.updatePageContent();
        this.updateLanguageToggleButton();

        // Set up language toggle button (desktop)
        const langToggle = document.getElementById('language-toggle');
        if (langToggle) {
            const self = this; // Bind 'this' context for arrow function
            langToggle.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                self.toggleLanguage();
            }, false);
        }

        // Set up language toggle button (mobile)
        const langToggleMobile = document.getElementById('language-toggle-mobile');
        if (langToggleMobile) {
            const self = this; // Bind 'this' context for arrow function
            langToggleMobile.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                self.toggleLanguage();
            }, false);
        }

        console.log('LanguageSwitcher initialized. Current language:', this.currentLanguage);
    },

    toggleLanguage() {
        const newLang = this.currentLanguage === 'es' ? 'en' : 'es';
        this.setLanguage(newLang);
        this.updateLanguageToggleButton();
    },

    updateLanguageToggleButton() {
        const langToggle = document.getElementById('language-toggle');
        const langToggleMobile = document.getElementById('language-toggle-mobile');
        const buttonText = this.currentLanguage === 'es' ? 'EN' : 'ES';
        const mobileButtonText = buttonText + ' / ' + (this.currentLanguage === 'es' ? 'ES' : 'EN');

        if (langToggle) {
            langToggle.textContent = buttonText;
            langToggle.setAttribute('data-lang', this.currentLanguage);
        }
        if (langToggleMobile) {
            langToggleMobile.textContent = mobileButtonText;
            langToggleMobile.setAttribute('data-lang', this.currentLanguage);
        }
    }
};

// Initialize on page load
function initLanguageSwitcher() {
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            LanguageSwitcher.init();
        });
    } else {
        // DOM is already loaded
        LanguageSwitcher.init();
    }
}

// Expose globally for debugging
window.LanguageSwitcher = LanguageSwitcher;

// Initialize
initLanguageSwitcher();

// Debug information
console.log('Fundaci贸n Rimas - Language Switcher loaded');
console.log('Available languages: Spanish (es), English (en)');
console.log('Current language: ' + LanguageSwitcher.getLanguage());
console.log('To test: LanguageSwitcher.toggleLanguage() in console');
